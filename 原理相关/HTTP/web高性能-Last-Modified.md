# Last-Modified的介绍
我们上2个笔记描述的Cache-Control和Expires都属于强缓存，即只要请求的资源没有过期就不会向服务器发送请求。有时候这个非常的好用。
<br /><br />
但是有时候如果缓存还没有过期的文件在服务端更改了，如果不强制更改文件的名字，那么客户端是不会向服务端发送请求更新的，这个就是强缓存的特性。
<br /><br />
为了让缓存的策略更加多元化，还有协商缓存，Last-Modified就是其中一个。这类缓存会发一个请求给服务端确认请求的资源是否可以使用缓存在客户端的版本，如果服务端觉得可以，那么就会返回**304 Not Modified**。

## 原理
以Last-Modified为例子，服务端在客户端首次请求某个资源，会返回资源而且返回一个header，即Last-Modified,其格式就是一个日期格式，含义是在这个日期之前都可以使用缓存。
<br /><br />
接着客户端会保存这个时间日期，然后再下一次发送该资源请求的时候带上这个日期通过**If-Modified-Since**
<br/><br/>
当请求在服务端处理，服务端会取出这个值然后对比，如果该资源在服务端的更改日期和客户端发送的日期相同，则直接返回状态码 304 Not Modified 来告知客户端，该资源没有更改可以使用保存在客户端的版本。如果不同了，那么服务端将会返回该请求的资源给客户端。这个就是协商缓存。

## 扩展
强缓存是在日期内的资源直接使用本地缓存版本而不会再放松请求给服务端。协商缓存是发送一次请求给服务端协商。这2个应该在应用中按照项目实际需求来使用。通常如果文件不经常改动的比如favicon icon等就可以使用Expires。这个没有谁好谁更好一说，只有哪个最符合你的需求。